<!DOCTYPE html>
<html lang="en" xmlns:th="http://www.thymeleaf.org" xmlns="http://www.w3.org/1999/html">
<head>
    <meta charset="utf-8"/>
    <title>首页</title>

    <!-- CSS样式 -->
    <div th:replace="Common::header"></div>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/semantic-ui/2.2.10/semantic.min.css">
</head>
<body>

<form class="col-10 offset-1" th:action="@{/blog/editor}" th:method="post">
    <div class="form-group">
        <div id="toolbar-container" class="toolbar border"></div>
    </div>
    <div class="form-group">
        <input type="text" class="form-control" id="title" name="title"
               aria-describedby="emailHelp" placeholder="请输入文章标题">
    </div>
    <div class="form-group">
        <div id="text-container" class="text border" style="height: 450px !important;"></div>
        <textarea style="display: none" name="content" id="txtIntro"></textarea>
        <input name="userId" hidden></input>
    </div>
    <button type="submit" class="btn btn-primary w-100">发布文章</button>
</form>

<script src='https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js'></script>
<script src="https://cdn.jsdelivr.net/npm/wangeditor@latest/dist/wangEditor.min.js"></script>
<!-- 引入 wangEditor.min.js -->
<script>
    const E = window.wangEditor
    const editor = new E('#toolbar-container', '#text-container') // 传入两个元素
    const $text1 = $('#txtIntro')
    editor.config.onchange = function (html) {
        $text1.val(html)
    }
    editor.config.placeholder = ""
    editor.config.height = 2000
    // editor.config.uploadImgServer = '/upload-img'
    editor.create()
    $text1.val(editor.txt.html())// 初始化 textarea 的值
</script>

</body>
</html>

